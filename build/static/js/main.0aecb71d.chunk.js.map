{"version":3,"sources":["contexts/WishListContext.js","contexts/ListContext.js","components/Utils/Utils.js","services/token-service.js","config.js","components/Header/Header.js","components/Utils/PrivateRoute.js","components/Utils/PublicOnlyRoute.js","services/list-api-service.js","components/ListWishList/ListWishList.js","components/ListForm/ListForm.js","routes/WishListPage/WishListPage.js","components/WishForm/WishForm.js","components/WishForm/EditWishForm.js","components/Wish/Wish.js","routes/WishList/WishList.js","services/auth-api-service.js","components/LoginForm/LoginForm.js","routes/LoginPage/LoginPage.js","components/RegistrationForm/RegistrationForm.js","routes/RegistrationPage/RegistrationPage.js","routes/NotFoundPage/NotFoundPage.js","components/App/App.js","index.js"],"names":["WishListContext","React","createContext","listWishList","error","setError","clearError","setListWishList","addList","WishListProvider","state","setState","console","list","value","this","Provider","props","children","Component","nullList","list_title","list_description","user","nullWish","wish_title","wish_url","ListContext","wishes","setList","clearList","setWishes","addWish","updateWish","deleteWish","ListProvider","wish","Hyph","className","Button","join","Input","Required","Section","classes","filter","Boolean","_timeoutId","TokenService","process","REACT_APP_API_KEY","saveAuthToken","token","window","localStorage","setItem","config","getAuthToken","getItem","clearAuthToken","info","removeItem","hasAuthToken","makeBasicAuthToken","userName","password","btoa","parseJwt","jwt","jwtDecode","readJwtToken","_getMsUntilExpiry","payload","exp","Date","now","queueCallbackBeforeExpiry","callback","msUntilExpiry","setTimeout","clearCallbackBeforeExpiry","clearTimeout","Header","handleLogoutClick","onClick","to","renderLogoutLink","renderLoginLink","PrivateRoute","component","render","componentProps","pathname","from","location","PublicOnlyRoute","ListApiService","getLists","id","fetch","headers","then","res","ok","json","e","Promise","reject","postList","title","description","user_id","method","body","JSON","stringify","getList","listId","deleteList","getWishLists","postWish","url","list_id","editWish","wishId","ListWishList","deleteListButtonHandler","onDelete","renderDeleteButton","ListForm","handleSubmit","preventDefault","target","context","addedList","catch","onSubmit","htmlFor","name","type","required","contextType","WishListPage","add","landingPageLogin","addListButtonHandler","refreshLists","renderLists","map","key","renderAddButton","history","push","addListsButtonHandler","WishForm","EditWishForm","edit","onChange","Wish","editWishButtonHandler","deleteWishButtonHandler","href","rel","renderWish","WishList","reduce","match","params","addWishButtonHandler","WishLists","content","renderList","defaultProps","AuthApiService","postLogin","credentials","postUser","LoginForm","handleSubmitJwtAuth","user_name","authToken","onLoginSuccess","role","LoginPage","handleLoginSuccess","destination","RegistrationForm","preferred_name","onRegistrationSuccess","RegistrationPage","handleRegistrationSuccess","NotFoundPage","App","hasError","exact","path","withRouter","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.0aecb71d.chunk.js","sourcesContent":["import React, {Component} from 'react'\n\n\nconst WishListContext = React.createContext({\n    listWishList: [],\n    error: null,\n    setError: () => {},\n    clearError: () => {},\n    setListWishList: () => {},\n    addList: () => {},\n});\n\nexport default WishListContext;\n\nexport class WishListProvider extends Component {\n    state = {\n        listWishList: [],\n        error: null, \n    };\n\n    setListWishList = listWishList => {\n        this.setState({ listWishList })\n    }\n\n    setError = error => {\n        console.error(error)\n        this.setState({ error })\n    }\n\n    clearError = () => {\n        this.setState({ error: null})\n    }\n\n    addList = list => {\n        this.setListWishList([\n            ...this.state.listWishList,\n            list\n        ])\n    }\n\n    render() {\n        const value = {\n            listWishList: this.state.listWishList,\n            error: this.state.error,\n            setError: this.setError,\n            clearError: this.clearError,\n            setListWishList: this.setListWishList,\n            addList: this.addList,\n        }\n        return (\n            <WishListContext.Provider value={value}>\n                {this.props.children}\n            </WishListContext.Provider>\n        );\n    }\n};","import React, { Component } from 'react';\n\nexport const nullList = {\n    list_title: '',\n    list_description: '',\n    user: {}\n};\n\nexport const nullWish = {\n    wish_title: '',\n    wish_url: '',\n    user: {},\n\n};\n\nconst ListContext = React.createContext({\n    list: nullList,\n    wishes: [nullWish, ],\n    error: null,\n    setError: () => {},\n    clearError: () => {},\n    setList: () => {},\n    clearList: () => {},\n    setWishes: () => {},\n    addWish: () => {},\n    updateWish: () => {},\n    deleteWish: () => {},\n});\n\nexport default ListContext;\n\nexport class ListProvider extends Component {\n    state = {\n        list: nullList,\n        wishes: [nullWish, ],\n        error: null\n    };\n\n    setError = error => {\n        console.error(error)\n        this.setState({error})\n    }\n\n    clearError = () => {\n        this.setState({error: null})\n    }\n\n    setList = list => {\n        this.setState({list: list})\n    }\n\n   \n\n    setWishes = wishes => {\n        this.setState({wishes: wishes})\n    }\n\n    clearList = () => {\n        this.setList(nullList)\n        this.setWishes([])\n    }\n\n    addWish = wish => {\n        this.setWishes([\n            ...this.state.wishes,\n            wish\n        ])\n    }\n\n    updateWish = () => {} \n\n    deleteWish = () => {}\n\n    render() {\n        const value = {\n            list: this.state.list,\n            wishes: this.state.wishes,\n            error: this.state.error,\n            setError: this.setError,\n            clearError: this.clearError,\n            setList: this.setList,\n            setWishes: this.setWishes,\n            clearList: this.clearList,\n            addWish: this.addWish,\n            updateWish: this.updateWish,\n            deleteWish: this.deleteWish,\n        }\n        return (\n            <ListContext.Provider value={value}>\n                {this.props.children}\n            </ListContext.Provider>\n        );\n    }\n};","import React from 'react';\nimport { format as formatDate} from 'date-fns';\nimport './Utils.css';\n\nexport function NiceDate({ date, format='EEEE MMMM do YYYY'}) {\n    return formatDate(date, format)\n}\n\nexport function Hyph() {\n    return <span className='Hyph'>{'   -   '}</span>\n}\n\nexport function Button({ className, ...props}) {\n    return <button className={['Button', className].join(' ')} {...props} />\n}\n\nexport function Textarea({ className, ...props}) {\n    return <textarea className={['Textarea', className].join(' ')} {...props} />\n}\n\nexport function Input({ className, ...props}) {\n    return <input className={['Input', className].join(' ')} {...props} />\n}\n\nexport function Required({ className, ...props}) {\n    return (\n        <span className={['Required', className].join(' ')} {...props}>\n            &#42;\n        </span>\n    )\n}\n\nexport function Section({ className, list, ...props}) {\n    const classes = [\n        'Section',\n        list && 'Section--list',\n        className\n    ].filter(Boolean).join(' ')\n    return (\n      <section className={classes} {...props} />\n    )\n}\n\n\n","import jwtDecode from 'jwt-decode'\nimport config from '../config'\n\nlet _timeoutId\nconst _TEN_SECONDS_IN_MS = 10000\n\nconst TokenService = {\n  saveAuthToken(token) {\n    window.localStorage.setItem(config.TOKEN_KEY, token)\n  },\n  getAuthToken() {\n    return window.localStorage.getItem(config.TOKEN_KEY)\n  },\n  clearAuthToken() {\n    console.info('clearing the auth token')\n    window.localStorage.removeItem(config.TOKEN_KEY)\n  },\n  hasAuthToken() {\n    return !!TokenService.getAuthToken()\n  },\n  makeBasicAuthToken(userName, password) {\n    return window.btoa(`${userName}:${password}`)\n  },\n  parseJwt(jwt) {\n    return jwtDecode(jwt)\n  },\n  readJwtToken() {\n    return TokenService.parseJwt(TokenService.getAuthToken())\n  },\n  _getMsUntilExpiry(payload) {\n    /*\n      payload is from the JWT\n      the `exp` value is in seconds, need to convert to ms, so * 1000\n      calculates the difference between now and when the JWT will expire\n    */\n    return (payload.exp * 1000) - Date.now()\n  },\n  queueCallbackBeforeExpiry(callback) {\n    /* get the number of ms from now until the token expires */\n    const msUntilExpiry = TokenService._getMsUntilExpiry(\n      TokenService.readJwtToken()\n    )\n    /*\n      queue a callback that will happen 10 seconds before the token expires\n      the callback is passed in as an argument so could be anything,\n        in this app, the callback is for calling the refresh endpoint\n    */\n    _timeoutId = setTimeout(callback, msUntilExpiry - _TEN_SECONDS_IN_MS)\n  },\n  clearCallbackBeforeExpiry() {\n    clearTimeout(_timeoutId)\n  },\n}\n\nexport default TokenService;","export default {\n    API_ENDPOINT: 'https://fierce-plains-04234.herokuapp.com/api',\n    //API_ENDPOINT: 'http://localhost:8000/api',\n    TOKEN_KEY: 'wishlist4u-client-auth-token',\n    API_KEY: process.env.REACT_APP_API_KEY\n}","import React, {Component} from 'react';\nimport {Link} from 'react-router-dom';\n// import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Hyph } from '../Utils/Utils';\nimport TokenService from '../../services/token-service';\nimport './Header.css';\n\n\nexport default class Header extends Component {\n    handleLogoutClick = () => {\n        TokenService.clearAuthToken();\n    }\n\n    renderLogoutLink() {\n        return (\n            <div className='Header__logged-in'>\n                <Link onClick={this.handleLogoutClick} to='/'> Logout </Link>\n            </div>\n        );\n    }\n\n    renderLoginLink() {\n        return (\n            <div className='Header__not-logged-in'>\n                <Link to='/register'> Create an account </Link>\n                <Hyph />\n                <Link to='/login'> Log in </Link>\n            </div>\n        );\n    }\n\n    render() {\n        return (\n            <nav className='Header'>\n                <h1>\n                    <Link to='/'> WishList4U </Link>\n                </h1>\n                {TokenService.hasAuthToken()\n                ? this.renderLogoutLink()\n                : this.renderLoginLink()}\n            </nav>\n        );\n    }\n}","import React from 'react';\nimport {Route, Redirect} from 'react-router-dom';\nimport TokenService from '../../services/token-service';\n\nexport default function PrivateRoute({ component, ...props}) {\n    const Component = component;\n    return (\n        <Route\n          {...props}\n          render={componentProps => (\n              TokenService.hasAuthToken()\n                ? <Component {...componentProps} />\n                : <Redirect\n                    to={{\n                        pathname: '/login',\n                        state: { from: componentProps.location}\n                    }}\n                   />\n          )}\n        />\n    );\n}","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport TokenService from '../../services/token-service';\n\nexport default function PublicOnlyRoute({ component, ...props}) {\n    const Component = component\n    return (\n        <Route\n          {...props}\n          render={componentProps => (\n              TokenService.hasAuthToken()\n                ? <Redirect to={'/'} />\n                : <Component {...componentProps} />\n          )}\n        />\n    );\n}","import TokenService from '../services/token-service';\nimport config from '../config';\n\nconst ListApiService = {\n    getLists(id) {\n      return fetch(`${config.API_ENDPOINT}/lists/users/${id}`, {\n          headers: {    \n          },\n      })\n        .then(res =>\n            (!res.ok)\n              ? res.json().then(e => Promise.reject(e))\n              : res.json()\n        );\n    },\n\n    postList(title, description, user_id) {\n\n      return fetch(`${config.API_ENDPOINT}/lists`, {\n          method: 'POST',\n          headers: {\n              'content-type': 'application/json',\n              'authorization': `bearer ${TokenService.getAuthToken()}`\n          },\n          body: JSON.stringify({\n              list_title: title,\n              list_description: description,\n              user_id\n          }),\n      })\n        .then(res => \n            (!res.ok)\n              ? res.json().then(e => Promise.reject(e))\n              : res.json()\n            );\n    },\n\n    getList(listId) {\n        return fetch(`${config.API_ENDPOINT}/lists/${listId}`, {\n            headers: {\n                'authorization': `bearer ${TokenService.getAuthToken()}`\n            },\n        })\n          .then(res => \n            (!res.ok)\n              ? res.json().then(e => Promise.reject(e))\n              : res.json()\n          );\n    },\n    \n    deleteList(listId) {\n      return fetch(`${config.API_ENDPOINT}/lists/${listId}`, {\n        method: 'DELETE',\n        headers: {\n          'authorization': `bearer ${TokenService.getAuthToken()}`\n        },\n      })\n      //returning 204 or 404\n        .then(res => \n           (!res.ok)\n             ? res.json().then(e => Promise.reject(e))\n             : res \n        );\n    },\n\n    getWishLists(listId) {\n        return fetch(`${config.API_ENDPOINT}/lists/${listId}/wishes`, {\n            headers: {\n                'authorization': `bearer ${TokenService.getAuthToken()}`\n            },\n        })\n          .then(res => \n            (!res.ok)\n              ? res.json().then(e => Promise.reject(e))\n              : res.json()\n          );\n    },\n\n    postWish(listId, title, url) {\n        return fetch(`${config.API_ENDPOINT}/wishes`, {\n            method: 'POST',\n            headers: {\n                'content-type': 'application/json',\n                'authorization': `bearer ${TokenService.getAuthToken()}`\n            },\n            body: JSON.stringify({\n                list_id: listId,\n                wish_title: title,\n                wish_url: url,\n            }),\n        })\n          .then(res => \n            (!res.ok)\n              ? res.json().then(e => Promise.reject(e))\n              : res.json()\n          );\n    },\n\n    editWish(listId, wishId, title, url) {\n        return fetch(`${config.API_ENDPOINT}/wishes/${wishId}`, {\n            method: 'PATCH',\n            headers: {\n                'content-type': 'application/json',\n                'authorization': `bearer ${TokenService.getAuthToken()}`\n            },\n            body: JSON.stringify({\n                id: wishId,\n                wish_title: title,\n                wish_url: url,\n                list_id: listId\n            }),  \n        })\n          .then(res => \n            (!res.ok)\n              ? res.json().then(e => Promise.reject(e))\n              : null\n            );\n    },\n\n    deleteWish(wishId) {\n      return fetch(`${config.API_ENDPOINT}/wishes/${wishId}`, {\n        method: 'DELETE',\n        headers: {\n          'authorization': `bearer ${TokenService.getAuthToken()}`\n        },\n      })\n      //returning 204 or 404\n        .then(res => \n           (!res.ok)\n             ? res.json().then(e => Promise.reject(e))\n             : res \n        );\n    },\n}\n\nexport default ListApiService;","import React, { Component } from 'react';\nimport {Link} from 'react-router-dom';\nimport {Button} from '../Utils/Utils';\nimport ListApiService from '../../services/list-api-service';\nimport TokenService from '../../services/token-service';\nimport './ListWishList.css';\n\n\n\nexport default class ListWishList extends Component {\n\n    deleteListButtonHandler = (listId) => {\n        ListApiService.deleteList(listId)\n        .then(this.props.onDelete)\n      }\n\n    renderDeleteButton = (props) => {\n        const list = this.props.list\n        if (TokenService.hasAuthToken()) \n        return (<Button className='Button__DeleteList'  onClick={e => this.deleteListButtonHandler(list.id)}>Delete List</Button>);\n        else\n        return <> </> \n    }\n\n    render() {\n        const { list } = this.props;\n\n\n        return (\n            <div className='ListWishList__Container desc'>\n            <Link to={`/list/${list.id}`} className='ListWishList'>\n                <header className='ListWishList__header'>\n                    <h2 className='ListWishList__heading'>\n                        {list.list_title}</h2>\n                </header>\n                <p className='ListWishList__description'>\n                            {list.list_description}</p>\n            </Link>\n            <this.renderDeleteButton/>\n            </div>\n        );    \n    }\n}\n","import React, { Component } from \"react\";\nimport WishListContext from \"../../contexts/WishListContext\";\nimport ListApiService from \"../../services/list-api-service\";\nimport { Button, Input, Required } from \"../Utils/Utils\";\nimport './ListForm.css';\nimport TokenService from \"../../services/token-service\";\n\nexport default class ListForm extends Component {\n  static contextType = WishListContext;\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const { list_title, list_description } = e.target;\n    const id = TokenService.readJwtToken().user_id\n    ListApiService.postList(list_title.value, list_description.value, id)\n      .then(this.context.addList)\n      .then(() => {\n        list_description.value = \"\";\n        list_title.value = \"\";\n      })\n      .then(this.props.addedList)\n      .catch(this.context.setError);\n  };\n\n  render() {\n    return (\n      <form className=\"ListForm\" onSubmit={this.handleSubmit}>\n        <div className=\"List_Title\">\n          <label htmlFor=\"ListForm__list_title\">\n            List Title: <Required />\n          </label>\n          <Input\n            name=\"list_title\"\n            type=\"text\"\n            required\n            id=\"ListForm__list_title\"\n          ></Input>\n        </div>\n        <div className=\"List_Description\">\n          <label htmlFor=\"ListForm__list_description\">\n            Description: \n          </label>\n          <Input\n            name=\"list_description\"\n            type=\"text\"\n            id=\"ListForm__list_description\"\n          ></Input>\n        </div>\n        <Button className='Button__CreateList' type=\"submit\">Create New List</Button>\n      </form>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport WishListContext from \"../../contexts/WishListContext\";\nimport ListApiService from \"../../services/list-api-service\";\nimport { Section, Button } from \"../../components/Utils/Utils\";\nimport ListWishList from \"../../components/ListWishList/ListWishList\";\nimport ListForm from \"../../components/ListForm/ListForm\";\nimport TokenService from '../../services/token-service';\nimport './WishListPage.css';\nimport { Link } from 'react-router-dom';\n\n\nexport default class WishListPage extends Component {\n  state = {\n    add: false,\n  };\n\n  static contextType = WishListContext;\n\n  componentDidMount() {\n    this.context.clearError();\n    if(TokenService.hasAuthToken()){\n      const id = TokenService.readJwtToken().user_id\n\n      ListApiService.getLists(id)\n      .then(this.context.setListWishList)\n      .catch(this.context.setError);\n    }else{\n      this.props.history.push('/')\n    }\n    \n  }\n\n  landingPageLogin = () => {\n    if (!TokenService.hasAuthToken()) \n      return (\n        <div className='WishListPage__Landing'>\n          <h2 className='WishListPage__Landing-header'>Welcome to WishList4U</h2>\n          <p>Need help keeping track of all your wants and needs AS WELL as your friends and family? Look no further, WishList4U will help you keep track of all that!</p>\n          <p>We've added some lists to get you started and give you an idea of how to use it, before adding your own list or making new wishes, please Login or Create an Account.</p>\n          <p> If you're just here to demo the app please use the credentials below:</p>\n          <ul className='WishListPage__Landing-demo-credentials'>\n            <li>User Name: Test_User</li>\n            <li>Password: P@ssword1</li>\n          </ul>\n        </div>\n      );\n    else\n      return (<> </>);\n  }\n\n  addListButtonHandler = () => {\n    !this.state.add\n      ? this.setState({ add: true })\n      : this.setState({ add: false });\n  };\n\n  addedList = () => {\n    this.setState({add: false})\n  }\n\n  refreshLists = () => {\n    ListApiService.getLists()\n      .then(this.context.setListWishList)\n      .catch(this.context.setError)\n  }\n  \n\n  renderLists = () => {\n    const { listWishList = [] } = this.context;\n    return listWishList.map((list) => (\n      TokenService.hasAuthToken() &&\n      <ListWishList onDelete={this.refreshLists} key={list.id} list={list} />\n    ));\n  }\n\n  renderAddButton = () => {\n    if (TokenService.hasAuthToken())\n       return (\n        <Button className='Button__AddList' onClick={() => this.addListButtonHandler()}>\n          + Add New List\n        </Button>\n      );\n    else \n      return (\n        <p className='AddPlaceHolder'>Please <Link className='signinLink' to='/login'>login</Link> or <Link className='signinLink' to='/register'>create an account</Link> to add a new list</p>\n      );\n  }\n\n  render() {\n    const { error } = this.context;\n    return (\n      <>\n        <this.landingPageLogin/>\n        <Section list className=\"WishListPage\">\n          {error ? (\n            <p className=\"red\">There was an error, try again</p>\n          ) : (\n            this.renderLists()\n          )}\n        </Section>\n        <Section className='WishListPage__ButtonAndFormContainer'>\n        <this.renderAddButton/>\n        {this.state.add ? (\n          <ListForm addedList={this.addedList} addList={this.addListsButtonHandler} />\n        ) : null}\n        </Section>\n      </>\n    );\n  }\n};\n","import React, { Component } from 'react';\nimport ListContext from '../../contexts/ListContext';\nimport ListApiService from '../../services/list-api-service';\nimport { Button, Input, Required } from '../Utils/Utils';\nimport './WishForm.css';\n\n\nexport default class WishForm extends Component {\n\n    static contextType = ListContext\n\n    handleSubmit = e => {\n        e.preventDefault()\n        const { list } = this.context\n        const { wish_title, wish_url } = e.target\n\n        ListApiService.postWish(list.id, wish_title.value, wish_url.value )\n          .then(this.context.addWish)\n          .then(() => {\n              wish_title.value = ''\n              wish_url.value = ''\n          })\n          .then(this.props.addWish)\n          .catch(this.context.setError)\n    }\n\n    \n\n    \n    render() {\n            return (\n                <form\n                        className='WishForm'\n                        onSubmit={this.handleSubmit}\n                        >\n                        <div className='wish_title'>\n                            <label htmlFor='WishForm__wish_title'>\n                                Wish Title: <Required/>\n                            </label>\n                            <Input \n                            name='wish_title'\n                            type='text'\n                            required\n                            id='WishForm__wish_title'>\n                            </Input>\n                        </div>\n                        <div className='wish_url'>\n                            <label htmlFor='WishForm__wish_url'>\n                                Wish URL: \n                            </label>\n                            <Input\n                            name='wish_url'\n                            type='text'\n                            id='WishForm__wish_url'>\n                            </Input>\n                        </div>\n                        <Button className='Button__MakeNewWish' type='submit'>\n                            Make a wish \n                        </Button>\n                        </form>\n            );\n    }\n}\n\n","import React, { Component } from 'react';\nimport ListContext from '../../contexts/ListContext';\nimport ListApiService from '../../services/list-api-service';\nimport { Button, Input } from '../Utils/Utils';\nimport './WishForm.css';\n\n\nexport default class EditWishForm extends Component {\n\n    state = {\n        title: null,\n        url: null,\n    };\n\n    static contextType = ListContext\n\n    handleSubmit = e => {\n        e.preventDefault()\n        const { list } = this.context\n        const { wish_title, wish_url } = e.target\n\n        ListApiService.editWish(list.id, this.props.id, wish_title.value, wish_url.value )\n          .then(() => ListApiService.getWishLists(list.id)\n        .then(this.context.setWishes)\n        .then(this.props.edit)\n        .catch(this.context.setError))\n          .then(() => {\n              this.setState({title: null})\n          })\n          .catch(this.context.setError)\n    }\n\n\n    render() {\n        return (\n            <form\n              className='WishForm'\n              onSubmit={this.handleSubmit}\n            >\n              <div className='wish_title'>\n                  <label htmlFor='WishForm__wish_title'>\n                      Wish Title:\n                  </label>\n                  <Input \n                    name='wish_title'\n                    type='text'\n                    required\n                    id='WishForm__wish_title'\n                    value={this.state.title == null ? this.props.title : this.state.title}\n                    onChange={(e) => this.setState({title: e.target.value})}\n                    >\n                  </Input>\n              </div>\n              <div className='wish_url'>\n                  <label htmlFor='WishForm__wish_url'>\n                      Wish URL: \n                  </label>\n                  <Input\n                    name='wish_url'\n                    type='text'\n                    id='WishForm__wish_url'\n                    value={this.state.url == null ? this.props.url : this.state.url}\n                    onChange={e => this.setState({url: e.target.value})}\n                    >\n                  </Input>\n              </div>\n              <Button className='Button__ChangeWish' type='submit'>\n                  Change wish\n              </Button>\n            </form>\n        );\n    }\n}\n","import React, {Component} from 'react';\nimport ListContext from '../../contexts/ListContext';\nimport {Button} from '../../components/Utils/Utils';\nimport EditWishForm from '../../components/WishForm/EditWishForm';\nimport ListApiService from '../../services/list-api-service';\nimport './Wish.css';\n\n\nexport default class Wish extends Component {\n\n    state = {\n        edit: false,\n    };\n\n    static contextType = ListContext\n\n    editWishButtonHandler = () => {\n        this.setState({edit: false})\n    }\n\n    deleteWishButtonHandler = (wishId) => {\n        ListApiService.deleteWish(wishId)\n        .then(this.props.onDelete(wishId))\n    }\n\n    \n\n    renderWish () {\n\n        return (\n            <li className='WishList__wish card'>\n            {(this.state.edit) \n              ? <EditWishForm id={this.props.id} title={this.props.title} url={this.props.url} edit={this.editWishButtonHandler}/> \n              : <>  \n                    <p className='WishList__wish_title title'>\n                        {this.props.title}\n                    </p>\n                    <p className='WishList__wish_url'>\n                        <a href={this.props.url} target=\"_blank\" rel=\"noopener noreferrer\">Link to Wish</a> \n                    </p> \n                </>\n            }\n            <Button className='Button__EditWish' onClick={e => {\n                this.state.edit \n                ? this.setState({edit: false})\n                : this.setState({edit: true})}}> \n                Edit Wish\n            </Button>\n            <Button className='Button__DeleteWish' onClick={e => this.deleteWishButtonHandler(this.props.id)}>\n               - Delete Wish\n            </Button>\n            </li>\n        );\n    }\n\n    render() {\n       return this.renderWish();\n    }\n}\n","import React, {Component} from 'react';\nimport ListContext from '../../contexts/ListContext';\nimport ListApiService from '../../services/list-api-service';\nimport WishForm from '../../components/WishForm/WishForm';\nimport Wish from '../../components/Wish/Wish';\nimport { Section, Button } from '../../components/Utils/Utils';\nimport './WishList.css';\n\nexport default class WishList extends Component {\n    state = {\n        add: false,\n        reduce: false,\n    };\n\n    static defaultProps = {\n        match: { params: {} },\n    }\n\n    static contextType = ListContext\n\n    componentDidMount() {\n        this.getList()\n    }\n\n    componentWillUnmount() {\n        this.context.clearList()\n    }\n\n    getList = () => {\n        const { listId } = this.props.match.params\n        this.context.clearError()\n        ListApiService.getList(listId)\n        .then(this.context.setList)\n        .catch(this.context.setError)\n        ListApiService.getWishLists(listId)\n        .then(this.context.setWishes)\n        .catch(this.context.setError)\n    }\n    \n\n    addWishButtonHandler = () => {\n        !this.state.add\n                ? this.setState({add: true})\n                : this.setState({add: false})\n    }\n\n    onDelete = (wishId) => {\n        this.getList()\n         // working on removing from state/context instead of a bandwith heavy option\n    //    const { list } = this.context\n    //    this.context.setList(list.filter(listItem => wishId !== listItem.id))\n    }\n\n    WishLists = ( wishes = [], listId) => {\n        return (\n            <ul className='WishList__wishes'>\n                {wishes.map(wish => \n                  <Wish onDelete={this.onDelete} listId={listId} key={wish.id+wish.id} id={wish.id} title={wish.wish_title} url={wish.wish_url}/>\n                )}\n            </ul>\n        )\n    }\n \n    renderList() {\n        const { list, wishes } = this.context\n        return <>\n          <h2>{list.list_title}</h2>\n          <p>{list.list_description}</p>\n          {this.WishLists(wishes, list.id)}\n          <Button className='Button__AddWish' onClick={() => this.addWishButtonHandler()}> + Add New Wish </Button>\n          {(this.state.add) ? <WishForm addWish={this.addWishButtonHandler}/> : null }\n        </>\n    }\n\n    render() {\n        const { error, list } = this.context\n        let content \n        if (error) {\n            content = (error.error === `List doesn't exist`)\n              ?  <p className='red'>List not found</p>\n              :  <p className='red'> There was an error </p>\n        } else if (!list.id) {\n            content = <div className='loading' />\n        } else {\n            content = this.renderList()\n        }\n        return (\n            <Section className='WishList card'>\n                {content}\n            </Section>\n        );\n    }\n};","import config from '../config';\n\nconst AuthApiService = {\n    postLogin(credentials) {\n        return fetch(`${config.API_ENDPOINT}/auth/login`, {\n            method: 'POST',\n            headers: {\n                'content-type': 'application/json'\n            },\n            body: JSON.stringify(credentials)\n        }).then((res) => \n            (!res.ok)\n                ? res.json().then((e) => Promise.reject(e)) \n                : res.json()\n        );\n    },\n\n    postUser(user) {\n        return fetch(`${config.API_ENDPOINT}/users`, {\n            method: 'POST',\n            headers: {\n                'content-type': 'application/json'\n            },\n            body: JSON.stringify(user)\n        })\n          .then(res => \n            (!res.ok)\n              ? res.json().then(e => Promise.reject(e))\n              : res.json()\n          );\n    },\n};\n\nexport default AuthApiService;","import React, {Component} from 'react';\nimport TokenService from '../../services/token-service';\nimport AuthApiService from'../../services/auth-api-service';\nimport {Button, Input} from '../Utils/Utils';\n\nexport default class LoginForm extends Component {\n    static defaultProps= {\n        onLoginSuccess: () => {}\n    }\n\n    state = { error: null};\n\n    handleSubmitJwtAuth = e => {\n        e.preventDefault()\n        this.setState({ error: null})\n        const { user_name, password } = e.target\n\n        AuthApiService.postLogin({\n          user_name: user_name.value,\n          password: password.value\n        })\n          .then(res => {\n            user_name.value = ''\n            password.value = ''\n            TokenService.saveAuthToken(res.authToken)\n            this.props.onLoginSuccess()\n          })\n          .catch(res => {\n            this.setState({error: res.error})\n          });\n    }\n\n    render() {\n        const {error} = this.state\n        return (\n            <form\n              className='LoginForm'\n              onSubmit={this.handleSubmitJwtAuth}\n            >\n              <div role='alert'>\n                {error && <p className='red'>{error}</p>}\n              </div>\n              <div className='user_name'>\n                  <label htmlFor='LoginForm__user_name'>\n                      User Name\n                  </label>\n                  <Input\n                    required\n                    name='user_name'\n                    type='text'\n                    id='LoginForm__user_name'>               \n                  </Input>\n              </div>\n              <div className='password'>\n                  <label htmlFor='LoginForm__password'>\n                      Password\n                  </label>\n                  <Input\n                    required\n                    name='password'\n                    type='password'\n                    id='LoginForm__password'\n                  >\n                  </Input>\n              </div>\n              <Button type='submit'>\n                  Login\n              </Button>\n            </form>\n        );\n    }\n}","import React, {Component} from 'react';\nimport LoginForm from '../../components/LoginForm/LoginForm';\nimport { Section } from '../../components/Utils/Utils';\nimport './LoginPage.css';\n\nexport default class LoginPage extends Component {\n    static defaultProps = {\n        location: {},\n        history: {\n            push: () => {},\n        },\n    }\n\n    handleLoginSuccess = () => {\n        const { location, history } = this.props\n        const destination = (location.state || {}).from || '/'\n        history.push(destination)\n    }\n\n    render() {\n        return (\n            <Section className='LoginPage'>\n                <h2>Login</h2>\n                <LoginForm\n                    onLoginSuccess={this.handleLoginSuccess}\n                />\n            </Section>\n        );\n    }\n};","import React, {Component} from 'react';\nimport {Button, Input, Required} from '../Utils/Utils';\nimport AuthApiService from '../../services/auth-api-service';\n\nexport default class RegistrationForm extends Component {\n    static defaultProps = {\n        onRegistrationSuccess: () => {}\n    }\n\n    state = { error: null };\n\n    handleSubmit = e => {\n        e.preventDefault()\n        const { preferred_name, user_name, password } = e.target\n\n        this.setState({error: null})\n        AuthApiService.postUser({\n            user_name: user_name.value,\n            password: password.value,\n            preferred_name: preferred_name.value\n        })\n          .then(user => {\n              preferred_name.value = ''\n              user_name.value = ''\n              password.value = ''\n              this.props.onRegistrationSuccess()\n          })\n          .catch(res => {\n              this.setState({ error: res.error })\n          });\n    }\n\n    render() {\n        const { error } = this.state\n        return (\n            <form\n              className='RegistrationForm'\n              onSubmit={this.handleSubmit}\n            >\n                <div role='alert'>\n                    {error && <p className='red'>{error}</p>}\n                </div>\n                <div className='preferred_name'>\n                    <label htmlFor='RegistrationForm__preferred_name'>\n                        Preferred Name <Required />\n                    </label>\n                    <Input\n                      name='preferred_name'\n                      type='text'\n                      required\n                      id='RegistrationForm__preferred_name'>\n                    </Input>\n                </div>\n                <div className='user_name'>\n                    <label htmlFor='RegistrationForm__user_name'>\n                        User Name <Required />\n                    </label>\n                    <Input \n                      name='user_name'\n                      type='text'\n                      required\n                      id='RegistrationForm__user_name'>\n                    </Input>\n                </div>\n                <div className='password'>\n                    <label htmlFor='RegistrationForm__password'>\n                        Password <Required />\n                    </label>\n                    <Input \n                      name='password'\n                      type='password'\n                      required\n                      id=\"RegistrationForm__password\"\n                    >\n                    </Input>\n                </div>\n                <Button type='submit'>\n                    Register\n                </Button>\n            </form>\n        );\n    }\n}","import React, {Component} from 'react';\nimport { Section } from '../../components/Utils/Utils';\nimport RegistrationForm from '../../components/RegistrationForm/RegistrationForm';\nimport './RegistrationPage.css';\n\nexport default class RegistrationPage extends Component {\n    static defaultProps = {\n        history: {\n            push: () => {},\n        },\n    }\n\n    handleRegistrationSuccess = user => {\n        const { history } = this.props\n        history.push('/login')\n    }\n\n    render() {\n        return (\n            <Section className='RegistrationPage'>\n                <h2>Register</h2>\n                <RegistrationForm\n                  onRegistrationSuccess={this.handleRegistrationSuccess}\n                />\n            </Section>\n        );\n    }\n};","import React, {Component} from 'react';\nimport { Section } from '../../components/Utils/Utils';\n\nexport default class NotFoundPage extends Component {\n    render() {\n        return (\n            <Section className='NotFoundPage'>\n                <h2>404 - Page not found</h2>\n                <p>Try going back to your previous page.</p>\n            </Section>\n        );\n    }\n};","import React, { Component } from 'react';\nimport { Switch, Route, withRouter} from 'react-router-dom';\nimport Header from '../Header/Header';\nimport PrivateRoute from '../Utils/PrivateRoute';\nimport PublicOnlyRoute from '../Utils/PublicOnlyRoute';\nimport WishListPage from '../../routes/WishListPage/WishListPage';\nimport WishList from '../../routes/WishList/WishList';\nimport LoginPage from '../../routes/LoginPage/LoginPage';\nimport RegistrationPage from '../../routes/RegistrationPage/RegistrationPage';\nimport NotFoundPage from '../../routes/NotFoundPage/NotFoundPage';\nimport './App.css';\n\n\nclass App extends Component {\n  state = { hasError: false};\n\n  static getDerivedStateFromError(error) {\n    console.error(error);\n    return { hasError: true };\n  }\n\n  render() {\n    return (\n      <div className='App'>\n        <header className='App__header'>\n          <Route component={Header}/>\n        </header>\n        <main className='App__main'>\n          {this.state.hasError && <p className='red'>There was an error! Oh no!</p>}\n          <Switch>\n           <Route exact path={'/'} component={WishListPage}/>\n           <PublicOnlyRoute path={'/login'} component={LoginPage}/>\n           <PublicOnlyRoute path={'/register'} component={RegistrationPage}/>\n           <PrivateRoute path={'/list/:listId'} component={WishList}/>\n           <Route component={NotFoundPage}/>\n          </Switch>\n        </main>\n      </div>\n    );\n  }\n\n}\n\nexport default withRouter (App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom';\nimport { WishListProvider } from './contexts/WishListContext';\nimport { ListProvider } from './contexts/ListContext';\nimport App from './components/App/App';\nimport './index.css';\n\nReactDOM.render(\n    <BrowserRouter>\n      <WishListProvider> \n        <ListProvider>\n          <App />\n        </ListProvider>\n      </WishListProvider>    \n    </BrowserRouter>, \n    document.getElementById('root')\n);"],"sourceRoot":""}